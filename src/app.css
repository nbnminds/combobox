@import "tailwindcss";

@layer components {
	/* Example 1, 2, 3, 5 - Default styling */
	/* Trigger styles (not portaled, can use class selectors) */
	.demo-example-1 .combobox-trigger,
	.demo-example-2 .combobox-trigger,
	.demo-example-3 .combobox-trigger,
	.demo-example-5 .combobox-trigger {
		@apply flex min-h-10 w-full items-center gap-1 rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm transition-colors;
		@apply focus-within:border-blue-500 focus-within:ring-blue-500/50 focus-within:ring-[3px];
		@apply disabled:cursor-not-allowed disabled:opacity-50;
	}

	/* Content styles (portaled, match classes on the content element itself) */
	.demo-example-1.combobox-content,
	.demo-example-2.combobox-content,
	.demo-example-3.combobox-content,
	.demo-example-5.combobox-content {
		@apply w-[var(--bits-popover-anchor-width)] rounded-md border border-gray-200 bg-white p-0 shadow-lg;
		@apply opacity-0 scale-95 translate-y-[-4px] transition-all duration-200 ease-out;
		@apply data-[state=open]:opacity-100 data-[state=open]:scale-100 data-[state=open]:translate-y-0;
	}

	/* Badge container, badges, buttons, icons (not portaled) */
	.demo-example-1 .combobox-badge-container,
	.demo-example-2 .combobox-badge-container,
	.demo-example-3 .combobox-badge-container,
	.demo-example-5 .combobox-badge-container {
		@apply flex flex-wrap gap-1 flex-1 min-w-0;
	}

	.demo-example-1 .combobox-badge,
	.demo-example-2 .combobox-badge,
	.demo-example-3 .combobox-badge,
	.demo-example-5 .combobox-badge {
		@apply inline-flex items-center rounded-md bg-blue-600 text-white px-1.5 py-0.5 text-xs font-medium gap-1 h-5;
	}

	.demo-example-1 .combobox-remove-button,
	.demo-example-2 .combobox-remove-button,
	.demo-example-3 .combobox-remove-button,
	.demo-example-5 .combobox-remove-button {
		@apply ml-1 rounded-full hover:bg-black/20 p-0.5;
	}

	.demo-example-1 .combobox-placeholder,
	.demo-example-2 .combobox-placeholder,
	.demo-example-3 .combobox-placeholder,
	.demo-example-5 .combobox-placeholder {
		@apply text-gray-500;
	}

	.demo-example-1 .combobox-icons-container,
	.demo-example-2 .combobox-icons-container,
	.demo-example-3 .combobox-icons-container,
	.demo-example-5 .combobox-icons-container {
		@apply flex items-center gap-1 shrink-0;
	}

	.demo-example-1 .combobox-clear-all,
	.demo-example-2 .combobox-clear-all,
	.demo-example-3 .combobox-clear-all,
	.demo-example-5 .combobox-clear-all {
		@apply h-4 w-4 text-gray-400 hover:text-gray-600 transition-colors cursor-pointer;
	}

	.demo-example-1 .combobox-arrow,
	.demo-example-2 .combobox-arrow,
	.demo-example-3 .combobox-arrow,
	.demo-example-5 .combobox-arrow {
		@apply h-4 w-4 text-gray-400 shrink-0;
	}

	/* Content children (portaled, match via parent class on content element) */
	.demo-example-1.combobox-content .combobox-search-container,
	.demo-example-2.combobox-content .combobox-search-container,
	.demo-example-3.combobox-content .combobox-search-container,
	.demo-example-5.combobox-content .combobox-search-container {
		@apply relative px-4 py-3;
	}

	.demo-example-1.combobox-content .combobox-search-icon,
	.demo-example-2.combobox-content .combobox-search-icon,
	.demo-example-3.combobox-content .combobox-search-icon,
	.demo-example-5.combobox-content .combobox-search-icon {
		@apply absolute left-5 top-1/2 -translate-y-1/2 h-3 w-3 text-gray-400 pointer-events-none z-10;
	}

	.demo-example-1.combobox-content .combobox-search-input,
	.demo-example-2.combobox-content .combobox-search-input,
	.demo-example-3.combobox-content .combobox-search-input,
	.demo-example-5.combobox-content .combobox-search-input {
		@apply h-9 w-full rounded-lg border border-gray-300 bg-white pl-9 pr-4 py-2 text-sm text-gray-700 placeholder:text-gray-400;
		@apply focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200;
	}

	.demo-example-1.combobox-content .combobox-list-container,
	.demo-example-2.combobox-content .combobox-list-container,
	.demo-example-3.combobox-content .combobox-list-container,
	.demo-example-5.combobox-content .combobox-list-container {
		@apply max-h-[300px] overflow-y-auto;
	}

	.demo-example-1.combobox-content .combobox-list,
	.demo-example-2.combobox-content .combobox-list,
	.demo-example-3.combobox-content .combobox-list,
	.demo-example-5.combobox-content .combobox-list {
		@apply p-2;
	}

	.demo-example-1.combobox-content .combobox-item,
	.demo-example-2.combobox-content .combobox-item,
	.demo-example-3.combobox-content .combobox-item,
	.demo-example-5.combobox-content .combobox-item {
		@apply relative flex cursor-pointer select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors;
		@apply hover:bg-blue-50 hover:text-blue-900;
		@apply focus:bg-blue-50 focus:text-blue-900;
		@apply data-[selected=true]:bg-blue-100 data-[selected=true]:text-blue-900;
		@apply data-[disabled=true]:cursor-not-allowed data-[disabled=true]:opacity-50;
	}

	.demo-example-1.combobox-content .combobox-item-checkbox,
	.demo-example-2.combobox-content .combobox-item-checkbox,
	.demo-example-3.combobox-content .combobox-item-checkbox,
	.demo-example-5.combobox-content .combobox-item-checkbox {
		@apply h-4 w-4 flex items-center justify-center rounded border-2 border-gray-300 bg-white;
		@apply transition-all duration-200 ease-in-out;
		@apply data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 data-[state=checked]:text-white;
		@apply data-[state=indeterminate]:bg-blue-600 data-[state=indeterminate]:border-blue-600 data-[state=indeterminate]:text-white;
		@apply [&>div]:text-inherit [&>div]:transition-transform [&>div]:duration-200;
		@apply shrink-0;
	}

	.demo-example-1.combobox-content .combobox-empty,
	.demo-example-2.combobox-content .combobox-empty,
	.demo-example-3.combobox-content .combobox-empty,
	.demo-example-5.combobox-content .combobox-empty {
		@apply py-6 text-center text-sm text-gray-500;
	}

	.demo-example-1.combobox-content .combobox-select-all,
	.demo-example-2.combobox-content .combobox-select-all,
	.demo-example-3.combobox-content .combobox-select-all,
	.demo-example-5.combobox-content .combobox-select-all {
		@apply flex items-center gap-2 border-b border-gray-200 px-2 py-1.5 bg-gray-50;
	}

	.demo-example-1.combobox-content .combobox-select-all-checkbox,
	.demo-example-2.combobox-content .combobox-select-all-checkbox,
	.demo-example-3.combobox-content .combobox-select-all-checkbox,
	.demo-example-5.combobox-content .combobox-select-all-checkbox {
		@apply h-4 w-4 flex items-center justify-center rounded border-2 border-gray-300 bg-white;
		@apply transition-all duration-200 ease-in-out;
		@apply data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 data-[state=checked]:text-white;
		@apply data-[state=indeterminate]:bg-blue-600 data-[state=indeterminate]:border-blue-600 data-[state=indeterminate]:text-white;
		@apply [&>div]:text-inherit [&>div]:transition-transform [&>div]:duration-200;
		@apply shrink-0;
	}

	.demo-example-1.combobox-content .combobox-select-all-label,
	.demo-example-2.combobox-content .combobox-select-all-label,
	.demo-example-3.combobox-content .combobox-select-all-label,
	.demo-example-5.combobox-content .combobox-select-all-label {
		@apply text-sm font-medium text-gray-700;
	}

	/* Example 3 - Grouped options specific styles (portaled) */
	.demo-example-3.combobox-content .combobox-group {
		@apply space-y-1 mb-3 last:mb-0;
	}

	.demo-example-3.combobox-content .combobox-group-label {
		@apply px-2 py-1.5 text-xs font-semibold text-gray-700 uppercase tracking-wider bg-gray-100 rounded;
	}

	.demo-example-3.combobox-content .combobox-group-options {
		@apply space-y-0.5 mt-1;
	}

	/* Example 4 - Primary variant styling */
	/* Trigger (not portaled) */
	.demo-example-4 .combobox-trigger {
		@apply flex min-h-10 w-full items-center gap-1 rounded-lg border-2 border-blue-600 bg-white px-4 py-2.5 text-sm font-medium shadow-md transition-all;
		@apply focus-within:border-blue-700 focus-within:ring-blue-600/30 focus-within:ring-4;
		@apply hover:shadow-lg;
	}

	/* Content (portaled) */
	.demo-example-4.combobox-content {
		@apply w-[var(--bits-popover-anchor-width)] rounded-lg border-2 border-blue-600 bg-white p-0 shadow-xl;
		@apply opacity-0 scale-95 translate-y-[-4px] transition-all duration-200 ease-out;
		@apply data-[state=open]:opacity-100 data-[state=open]:scale-100 data-[state=open]:translate-y-0;
	}

	/* Badge container, badges, buttons, icons (not portaled) */
	.demo-example-4 .combobox-badge-container {
		@apply flex flex-wrap gap-2;
	}

	.demo-example-4 .combobox-badge {
		@apply inline-flex items-center rounded-full bg-blue-700 text-white px-2 py-0.5 text-xs font-semibold gap-1.5 shadow-sm h-6;
	}

	.demo-example-4 .combobox-remove-button {
		@apply ml-1 rounded-full hover:bg-white/30 p-1 transition-colors;
	}

	.demo-example-4 .combobox-placeholder {
		@apply text-blue-600 font-medium;
	}

	.demo-example-4 .combobox-icons-container {
		@apply flex items-center gap-1 shrink-0;
	}

	.demo-example-4 .combobox-clear-all {
		@apply h-5 w-5 text-blue-500 hover:text-blue-700 transition-colors cursor-pointer;
	}

	.demo-example-4 .combobox-arrow {
		@apply h-5 w-5 text-blue-500 shrink-0;
	}

	/* Content children (portaled) */
	.demo-example-4.combobox-content .combobox-search-container {
		@apply relative px-4 py-3;
	}

	.demo-example-4.combobox-content .combobox-search-icon {
		@apply absolute left-5 top-1/2 -translate-y-1/2 h-3 w-3 text-blue-500 pointer-events-none z-10;
	}

	.demo-example-4.combobox-content .combobox-search-input {
		@apply h-10 w-full rounded-lg border border-gray-300 bg-white pl-9 pr-4 py-2 text-sm text-gray-700 placeholder:text-gray-400;
		@apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200;
	}

	.demo-example-4.combobox-content .combobox-list-container {
		@apply max-h-[320px] overflow-y-auto;
	}

	.demo-example-4.combobox-content .combobox-list {
		@apply p-3;
	}

	.demo-example-4.combobox-content .combobox-item {
		@apply relative flex cursor-pointer select-none items-center gap-3 rounded-md px-3 py-2 text-sm outline-none transition-all;
		@apply hover:bg-blue-600 hover:text-white;
		@apply focus:bg-blue-600 focus:text-white;
		@apply data-[selected=true]:bg-blue-700 data-[selected=true]:text-white data-[selected=true]:font-semibold;
		@apply data-[disabled=true]:cursor-not-allowed data-[disabled=true]:opacity-50;
	}

	.demo-example-4.combobox-content .combobox-item-checkbox {
		@apply h-5 w-5 flex items-center justify-center rounded border-2 border-white bg-white/20;
		@apply transition-all duration-200 ease-in-out;
		@apply data-[state=checked]:bg-white data-[state=checked]:border-white data-[state=checked]:text-blue-700;
		@apply data-[state=indeterminate]:bg-white data-[state=indeterminate]:border-white data-[state=indeterminate]:text-blue-700;
		@apply [&>div]:text-inherit [&>div]:transition-transform [&>div]:duration-200;
		@apply shrink-0;
	}

	.demo-example-4.combobox-content .combobox-empty {
		@apply py-8 text-center text-sm text-gray-500;
	}

	.demo-example-4.combobox-content .combobox-select-all {
		@apply flex items-center gap-3 border-b-2 border-blue-100 px-4 py-2.5 bg-blue-50;
	}

	.demo-example-4.combobox-content .combobox-select-all-checkbox {
		@apply h-5 w-5 flex items-center justify-center rounded border-2 border-white bg-white/20;
		@apply transition-all duration-200 ease-in-out;
		@apply data-[state=checked]:bg-white data-[state=checked]:border-white data-[state=checked]:text-blue-700;
		@apply data-[state=indeterminate]:bg-white data-[state=indeterminate]:border-white data-[state=indeterminate]:text-blue-700;
		@apply [&>div]:text-inherit [&>div]:transition-transform [&>div]:duration-200;
		@apply shrink-0;
	}

	.demo-example-4.combobox-content .combobox-select-all-label {
		@apply text-sm font-bold text-blue-900;
	}

	/* Tech Stack Example - Clean Modern Styling */
	.demo-tech-stack .combobox-trigger {
		@apply flex min-h-10 w-full items-center gap-2 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm transition-colors;
		@apply focus-within:border-gray-400;
		@apply disabled:cursor-not-allowed disabled:opacity-50;
	}

	.demo-tech-stack .combobox-badge-container {
		@apply flex flex-wrap gap-1.5 flex-1 min-w-0;
	}

	.demo-tech-stack .combobox-badge {
		@apply inline-flex items-center rounded-full bg-gray-100 border border-gray-200 text-gray-800 px-2 py-1 text-sm gap-1.5;
	}

	.demo-tech-stack .combobox-remove-button {
		@apply ml-1 rounded-full bg-gray-600 hover:bg-gray-700 transition-colors;
		@apply flex items-center justify-center;
		@apply h-4 w-4 p-0;
	}

	.demo-tech-stack .combobox-remove-button svg {
		@apply h-2.5 w-2.5 text-white;
	}

	.demo-tech-stack .combobox-placeholder {
		@apply text-gray-500;
	}

	.demo-tech-stack .combobox-icons-container {
		@apply flex items-center gap-2 shrink-0;
		@apply relative;
	}

	.demo-tech-stack .combobox-clear-all {
		@apply h-5 w-5 text-gray-500 hover:text-gray-700 transition-colors cursor-pointer;
		@apply relative z-10;
	}

	/* Separator line between clear all and arrow */
	.demo-tech-stack .combobox-clear-all::after {
		content: '';
		@apply absolute right-[-0.5rem] top-1/2 -translate-y-1/2 h-4 w-px bg-gray-300;
	}

	.demo-tech-stack .combobox-arrow {
		@apply h-5 w-5 text-gray-500 shrink-0;
		@apply ml-2 relative z-10;
	}

	/* Content styles */
	.demo-tech-stack.combobox-content {
		@apply w-[var(--bits-popover-anchor-width)] rounded-lg border border-gray-200 bg-white p-0 shadow-lg;
		@apply opacity-0 scale-95 translate-y-[-4px] transition-all duration-200 ease-out;
		@apply data-[state=open]:opacity-100 data-[state=open]:scale-100 data-[state=open]:translate-y-0;
	}

	/* Search container - light grey background */
	.demo-tech-stack.combobox-content .combobox-search-container {
		@apply relative px-3 py-2;
		@apply bg-gray-100 rounded-t-lg;
	}

	.demo-tech-stack.combobox-content .combobox-search-icon {
		@apply absolute left-3 top-1/2 -translate-y-1/2 text-gray-600 pointer-events-none z-10;
	}

	/* Target the Lucide icon SVG inside */
	.demo-tech-stack.combobox-content .combobox-search-icon svg {
		@apply h-3.5 w-3.5;
	}

	.demo-tech-stack.combobox-content .combobox-search-input {
		@apply h-8 w-full rounded-md border-0 bg-gray-100 pl-7 pr-3 py-1.5 text-sm text-gray-900 placeholder:text-gray-500;
		@apply focus:outline-none focus:ring-0;
	}

	/* List container */
	.demo-tech-stack.combobox-content .combobox-list-container {
		@apply max-h-[300px] overflow-y-auto;
	}

	.demo-tech-stack.combobox-content .combobox-list {
		@apply p-1.5;
	}

	/* Select All - with icon instead of checkbox */
	.demo-tech-stack.combobox-content .combobox-select-all {
		@apply flex items-center gap-2 px-3 py-2.5;
		@apply relative;
	}

	/* Style checkbox - default unchecked state (white with grey border) */
	.demo-tech-stack.combobox-content .combobox-select-all-checkbox {
		@apply h-4 w-4 flex items-center justify-center rounded-sm border border-gray-300;
		@apply transition-all duration-200 ease-in-out;
		@apply shrink-0;
		@apply bg-white border-gray-300;
	}

	/* Unchecked state - ensure it's white */
	.demo-tech-stack.combobox-content .combobox-select-all-checkbox:not([data-state="checked"]):not([data-state="indeterminate"]) {
		@apply bg-white border-gray-300;
	}

	/* Checked state - dark background */
	.demo-tech-stack.combobox-content .combobox-select-all-checkbox[data-state="checked"] {
		@apply bg-gray-800 border-gray-800 text-white;
	}

	/* Indeterminate state - dark background */
	.demo-tech-stack.combobox-content .combobox-select-all-checkbox[data-state="indeterminate"] {
		@apply bg-gray-800 border-gray-800 text-white;
	}

	/* Make checkmark smaller in select all */
	.demo-tech-stack.combobox-content .combobox-select-all-checkbox [data-slot="checkbox-indicator"] {
		@apply scale-75;
	}

	.demo-tech-stack.combobox-content .combobox-select-all-checkbox [data-slot="checkbox-indicator"] svg {
		@apply h-3 w-3;
	}

	.demo-tech-stack.combobox-content .combobox-select-all-label {
		@apply text-sm font-medium text-gray-700;
	}

	/* Items */
	.demo-tech-stack.combobox-content .combobox-item {
		@apply relative flex cursor-pointer select-none items-center gap-2 rounded-sm px-3 py-2.5 text-sm outline-none transition-colors;
		@apply bg-transparent;
		@apply data-[disabled=true]:cursor-not-allowed data-[disabled=true]:opacity-50;
	}

	/* Hover state - light grey background (works even when selected) */
	.demo-tech-stack.combobox-content .combobox-item:hover:not([data-disabled="true"]) {
		@apply bg-gray-50;
	}

	/* Focus state */
	.demo-tech-stack.combobox-content .combobox-item:focus:not([data-disabled="true"]) {
		@apply bg-gray-50;
	}

	.demo-tech-stack.combobox-content .combobox-item-checkbox {
		@apply h-4 w-4 flex items-center justify-center rounded-sm border border-gray-300 bg-white;
		@apply transition-all duration-200 ease-in-out;
		@apply data-[state=checked]:bg-gray-800 data-[state=checked]:border-gray-800 data-[state=checked]:text-white;
		@apply data-[state=indeterminate]:bg-gray-800 data-[state=indeterminate]:border-gray-800 data-[state=indeterminate]:text-white;
		@apply [&>div]:text-inherit [&>div]:transition-transform [&>div]:duration-200;
		@apply shrink-0;
	}

	/* Make checkmark smaller in item checkboxes */
	.demo-tech-stack.combobox-content .combobox-item-checkbox [data-slot="checkbox-indicator"] {
		@apply scale-75;
	}

	.demo-tech-stack.combobox-content .combobox-item-checkbox [data-slot="checkbox-indicator"] svg {
		@apply h-3 w-3;
	}

	.demo-tech-stack.combobox-content .combobox-item-label {
		@apply text-sm text-gray-900;
	}

	.demo-tech-stack.combobox-content .combobox-empty {
		@apply py-6 text-center text-sm text-gray-500;
	}
}
